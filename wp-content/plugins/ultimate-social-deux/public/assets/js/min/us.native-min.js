window.us_native=function(e,t,n){"use strict";var a=0,o=[],i={},r={},l=/^($|loaded|complete)/,s=e.encodeURIComponent,c={settings:{},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},hasClass:function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},addClass:function(e,t){c.hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t)},removeClass:function(e,t){e.className=c.trim(" "+e.className+" ".replace(" "+t+" "," "))},extendObject:function(e,t,a){for(var o in t){var i=e[o]!==n;i&&"object"==typeof t[o]?c.extendObject(e[o],t[o],a):(a||!i)&&(e[o]=t[o])}},getElements:function(e,t){for(var n=0,a=[],o=!!e.getElementsByClassName,i=o?e.getElementsByClassName(t):e.getElementsByTagName("*");n<i.length;n++)(o||c.hasClass(i[n],t))&&a.push(i[n]);return a},getDataAttributes:function(e,t,n){for(var a=0,o="",i={},r=e.attributes;a<r.length;a++){var l=r[a].name,c=r[a].value;c.length&&0===l.indexOf("data-")&&(t&&(l=l.substring(5)),n?i[l]=c:o+=s(l)+"="+s(c)+"&")}return n?i:o},copyDataAttributes:function(e,t,n,a){var o=c.getDataAttributes(e,n,!0);for(var i in o)t.setAttribute(a?i.replace(/-/g,"_"):i,o[i])},createIframe:function(e,n){var a=t.createElement("iframe");return a.style.cssText="overflow: hidden; border: none;",c.extendObject(a,{src:e,allowtransparency:"true",frameborder:"0",scrolling:"no"},!0),n&&(a.onload=a.onreadystatechange=function(){l.test(a.readyState||"")&&(a.onload=a.onreadystatechange=null,c.activateInstance(n))}),a},networkReady:function(e){return i[e]?i[e].loaded:n},appendNetwork:function(e){if(e&&!e.appended){if("function"==typeof e.append&&e.append(e)===!1)return e.appended=e.loaded=!0,void c.activateAll(e);e.script&&(e.el=t.createElement("script"),c.extendObject(e.el,e.script,!0),e.el.async=!0,e.el.onload=e.el.onreadystatechange=function(){if(l.test(e.el.readyState||"")){if(e.el.onload=e.el.onreadystatechange=null,e.loaded=!0,"function"==typeof e.onload&&e.onload(e)===!1)return;c.activateAll(e)}},t.body.appendChild(e.el)),e.appended=!0}},removeNetwork:function(e){return c.networkReady(e.name)?(e.el.parentNode&&e.el.parentNode.removeChild(e.el),!(e.appended=e.loaded=!1)):!1},reloadNetwork:function(e){var t=i[e];t&&c.removeNetwork(t)&&c.appendNetwork(t)},createInstance:function(e,t){var i=!0,r={el:e,uid:a++,widget:t};return o.push(r),t.process!==n&&(i="function"==typeof t.process?t.process(r):!1),i&&c.processInstance(r),r.el.setAttribute("data-usnative",r.uid),r.el.className="usnative "+t.name+" usnative-instance",r},processInstance:function(e){var n=e.el;e.el=t.createElement("div"),e.el.className=n.className,c.copyDataAttributes(n,e.el),"a"!==n.nodeName.toLowerCase()||n.getAttribute("data-default-href")||e.el.setAttribute("data-default-href",n.getAttribute("href"));var a=n.parentNode;a.insertBefore(e.el,n),a.removeChild(n)},activateInstance:function(e){return e&&!e.loaded?(e.loaded=!0,"function"==typeof e.widget.activate&&e.widget.activate(e),c.addClass(e.el,"usnative-loaded"),e.onload?e.onload(e.el):null):void 0},activateAll:function(e){"string"==typeof e&&(e=i[e]);for(var t=0;t<o.length;t++){var n=o[t];n.init&&n.widget.network===e&&c.activateInstance(n)}},load:function(e,n,a,i,l){if(e=e&&"object"==typeof e&&1===e.nodeType?e:t,!n||"object"!=typeof n)return void c.load(e,c.getElements(e,"usnative"),a,i,l);var s;if(/Array/.test(Object.prototype.toString.call(n)))for(s=0;s<n.length;s++)c.load(e,n[s],a,i,l);else if(1===n.nodeType){if(!a||!r[a]){a=null;var d=n.className.split(" ");for(s=0;s<d.length;s++)if(r[d[s]]){a=d[s];break}if(!a)return}var u,p=r[a],f=parseInt(n.getAttribute("data-usnative"),10);if(isNaN(f))u=c.createInstance(n,p);else for(s=0;s<o.length;s++)if(o[s].uid===f){u=o[s];break}!l&&u&&(u.init||(u.init=!0,u.onload="function"==typeof i?i:null,p.init(u)),p.network.appended?c.networkReady(p.network.name)&&c.activateInstance(u):c.appendNetwork(p.network))}},activate:function(t,n,a){e.us_native.load(null,t,n,a)},process:function(t,n,a){e.us_native.load(t,n,a,null,!0)},network:function(e,t){i[e]={name:e,el:null,appended:!1,loaded:!1,widgets:{}},t&&c.extendObject(i[e],t)},widget:function(e,t,n){n.name=e+"-"+t,i[e]&&!r[n.name]&&(n.network=i[e],i[e].widgets[t]=r[n.name]=n)},setup:function(e){c.extendObject(c.settings,e,!0)}};return c}(window,window.document),function(){var e=window._usnative;if(/Array/.test(Object.prototype.toString.call(e)))for(var t=0,n=e.length;n>t;t++)"function"==typeof e[t]&&e[t]()}(),function(e,t,n,a){n.setup({googleplus:{lang:"en-GB",onstartinteraction:function(t,n){"ga"in e&&e.ga!==a&&"function"==typeof e.ga&&ga("send","social","GooglePlus","+1",url)}}}),n.network("googleplus",{script:{src:"//apis.google.com/js/plusone.js"},append:function(t){return e.gapi?!1:void(e.___gcfg={lang:n.settings.googleplus.lang,parsetags:"explicit"})}});var o=function(e){var a=t.createElement("div");a.className="g-"+e.widget.gtype,n.copyDataAttributes(e.el,a),e.el.appendChild(a),e.gplusEl=a},i=function(e,t){return"function"!=typeof t?null:function(n){t(e.el,n)}},r=function(t){var a=t.widget.gtype;if(e.gapi&&e.gapi[a]){for(var o=n.settings.googleplus,r=n.getDataAttributes(t.el,!0,!0),l=["onstartinteraction","onendinteraction","callback"],s=0;s<l.length;s++)r[l[s]]=i(t,o[l[s]]);e.gapi[a].render(t.gplusEl,r)}};n.widget("googleplus","one",{init:o,activate:r,gtype:"plusone"}),n.widget("googleplus","share",{init:o,activate:r,gtype:"plus"}),n.widget("googleplus","badge",{init:o,activate:r,gtype:"plus"})}(window,window.document,window.us_native),function(e,t,n,a){n.setup({facebook:{lang:"en_US",appId:us_native_script.facebook_appid,onlike:function(t){"ga"in e&&e.ga!==a&&"function"==typeof e.ga&&ga("send","social","facebook","like",t)},onunlike:function(t){"ga"in e&&e.ga!==a&&"function"==typeof e.ga&&ga("send","social","facebook","unlike",t)}}}),n.network("facebook",{script:{src:"//connect.facebook.net/{{language}}/sdk.js",id:"facebook-jssdk"},append:function(a){var o=t.createElement("div"),i=n.settings.facebook,r={onlike:"edge.create",onunlike:"edge.remove",onsend:"message.send",oncomment:"comment.create",onuncomment:"comment.remove"};o.id="fb-root",t.body.appendChild(o),a.script.src=a.script.src.replace("{{language}}",i.lang),e.fbAsyncInit=function(){e.FB.init({appId:i.appId,xfbml:!0,version:"v2.2"});for(var t in r)"function"==typeof i[t]&&e.FB.Event.subscribe(r[t],i[t])}}}),n.widget("facebook","like",{init:function(a){var o=t.createElement("div");o.className="fb-like",n.copyDataAttributes(a.el,o),a.el.appendChild(o),e.FB&&e.FB.XFBML&&e.FB.XFBML.parse(a.el)}})}(window,window.document,window.us_native),function(e,t,n,a){var o=[];n.setup({vkontakte:{apiId:us_native_script.vkontakte_appid,group:{id:0,mode:0,width:48,height:20},like:{type:"mini",pageUrl:null}}}),n.network("vkontakte",{script:{src:"//vk.com/js/api/openapi.js?105",id:"vk-jsapi"},onload:function(e){var t=n.settings.vkontakte;VK.init({apiId:t.apiId,onlyWidgets:!0});for(var a=0,i=o.length;i>a;o[a].call(this),a++);}});var i=function(e,t,n){for(var a={},o,i=0,r=t.length;r>i;o=t[i],a[o]=e.getAttribute("data-"+o)||n[o],i++);return a};n.widget("vkontakte","like",{init:function(a){"object"!=typeof e.VK&&o.push(function(){var e=t.createElement("div"),o=n.settings.vkontakte;e.className="vk-like",e.id="vkontakte-like-"+(new Date).getTime()+Math.random().toString().replace(".","-"),n.copyDataAttributes(a.el,e),like=i(a.el,["pageUrl","type"],o.like),a.el.appendChild(e),VK.Widgets.Like(e.id,like)})}})}(window,window.document,window.us_native);